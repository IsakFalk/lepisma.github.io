<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2018-06-08 Fri 10:03 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Optional Typing</title>
<meta name="generator" content="Org mode">
<meta name="author" content="Abhinav Tushar">
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="/assets/css/pace.css" />
<link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.css" />
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,800" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono" >
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="/assets/js/pace.min.js"></script>
<script src="/assets/js/jquery.zoomooz.min.js"></script>
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="/assets/favicons/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/favicons/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/favicons/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/favicons/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="/assets/favicons/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="/assets/favicons/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="/assets/favicons/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/assets/favicons/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="/assets/favicons/favicon-128.png" sizes="128x128" />
<meta name="application-name" content="&nbsp;" />
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="/assets/favicons/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="/assets/favicons/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="/assets/favicons/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="/assets/favicons/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="/assets/favicons/mstile-310x310.png" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">
<header>
                                <div class='site-title'>
                                  <a href='/'>
                                    <img src='/assets/images/avatar32.png'>
                                  </a>
                                </div>
                                <div class='site-nav'>
                                  <a class='active' href='/'> blog</a>
                                  <a class='' href='/journal'> journal</a>
                                  <a class='' href='/wiki'> wiki</a>
                                  <a href='/about'> about</a>
                                </div>
                                <div class='clearfix'></div>
                              </header>

                              <div class='page-header'>
                                <div class='page-meta'>2017-03-05 Sun 00:00</div>
                                <h1>Optional Typing</h1>
                              </div>
</div>
<div id="content">
<div class='page-tags'><a href='../../..#programming'>programming</a> <a href='../../..#python'>python</a></div>
<div class="page-intro">
<p>
My experiences with static type checking. More specifically, I try to
argue how a dynamic typed language can get help from optional (gradual)
typing using mypy as example.
</p>

</div>

<p>
<span class='dropcap'>I</span> recently tried <a href="https://www.typescriptlang.org/">TypeScript</a> for a project. Essentially, it is a <a href="https://en.wikipedia.org/wiki/Gradual_typing">gradually typed</a>
superset of JavaScript. Originally intended for learning, the switch immediately
felt empowering. Not that TypeScript is necessarily better (haven't used it
enough to say that) but for a long time python user like me, (pushed) optional
type annotations is refreshing.
</p>

<p>
Python is one of the popular dynamic typed languages. Not specifying data types
like <code>int</code>, <code>string</code> allows for simpler programming and faster prototyping, making
it easy to learn. Its not just about being simple though, <a href="https://en.wikipedia.org/wiki/Duck_typing">duck typed</a> languages
have their share of benefits which are regularly exploited by the users.
</p>

<p>
Recent python versions have been pushing through a new change. Python now
provides type hinting support using a now stable <a href="https://docs.python.org/3.6/library/typing.html#module-typing">typing</a> module. I never really
cared about types in Python because, well, thats what I probably have been
avoiding by using Python all along. But this is slowly changing as I use static
typing more and more.
</p>

<div id="outline-container-org610a3ed" class="outline-2">
<h2 id="reading-your-own-code"><a id="org610a3ed"></a><span class="section-number-2">1</span> Reading your own code</h2>
<div class="outline-text-2" id="text-reading-your-own-code">

<p>
I enjoy cricket and Emacs. So wrote up a package, <a href="https://github.com/lepisma/cricbuzz.el">cricbuzz.el</a>, for displaying
cricket scores in Emacs. It basically is a web scraper for <a href="https://www.cricbuzz.com/">cricbuzz.com</a>.
Occasionally, there are changes to the web page structure and I have to do a
little bit of tweaking. It was broken recently and I had to fix it a few months
back. Here is one of the changes I did
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">-  (<span class="org-keyword">let*</span> ((header-node (first data-nodes<span class="org-parinfer-pretty-parensXdim-paren">))</span>
-         (col-size (length header-node<span class="org-parinfer-pretty-parensXdim-paren">))</span>
-         (row-nodes (cdr data-nodes<span class="org-parinfer-pretty-parensXdim-paren">))</span>
+  (<span class="org-keyword">let*</span> ((header-node (second data-nodes<span class="org-parinfer-pretty-parensXdim-paren">))</span>
+         (col-size (length (-remove-item <span class="org-string">" "</span> header-node<span class="org-parinfer-pretty-parensXdim-paren">)))</span>
+         (row-nodes (cdr (cdr data-nodes<span class="org-parinfer-pretty-parensXdim-paren">)))</span>
</pre>
</div>

<p>
I don't know what changed in the variable <code>data-nodes</code>. Don't even know what it
holds. The only thing I know is that it contains html elements parsed to form
S-expressions and contains structured data scraped from the website. The fix
works for now but this thing will bug me badly again when something changes.
Knowing that enforcing a structure in html is hard, the point here is that it is
important to know what the symbols contain in your code. This is really helpful
for maintaining the code over a long period of time, or when there are too many
pieces to keep track of.
</p>

<p>
There are two things really that are usually done to solve these issues:
</p>

<ul class="org-ul">
<li>Documenting functions, variables</li>
<li>Using helpful names</li>
</ul>

<p>
Helpful names are helpful. But they can get weird. There are understandable
limits to them. Documentations, specially function docs are more helpful.
Usually you add data types for the arguments in the docstring too. Like this
(numpy style):
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">def</span> <span class="org-function-name">noot_noot</span><span class="org-rainbow-delimiters-depth-1">(</span>pingu, n_noots<span class="org-rainbow-delimiters-depth-1">)</span>:
    <span class="org-doc">"""</span>

<span class="org-doc">    Parameters</span>
<span class="org-doc">    ----------</span>
<span class="org-doc">    pingu : Pingu</span>
<span class="org-doc">        A pingu object</span>
<span class="org-doc">    n_noots : int</span>
<span class="org-doc">        Number of times to noot</span>
<span class="org-doc">    """</span>

    <span class="org-keyword">pass</span>
</pre>
</div>

<p>
This helps in knowing what is going to happen in the function. This also gets
parsed by a documentation generator like
<a href="http://www.sphinx-doc.org/en/stable/">sphinx</a> so the types specified in here
end up being useful. But they still are pretty passive. There is no way anyone
could stop you from writing this
</p>

<div class="org-src-container">
<pre class="src src-python">noot_noot<span class="org-rainbow-delimiters-depth-1">(</span>Pingu<span class="org-rainbow-delimiters-depth-2">()</span>, <span class="org-highlight-numbers-number">1</span>.<span class="org-highlight-numbers-number">3</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
Not until runtime that is.
</p>

<p>
Notice the function again. The definition line itself is pretty much self
explanatory (thanks to variable naming). There are many similar cases in
practice which need <i>just a little bit</i> of hint about data types to clarify
their tasks. "Type hinting" fills in this sweet spot and at the same time flags
logical bugs like passing <code>float</code> where <code>int</code> is expected.
</p>
</div>
</div>

<div id="outline-container-org190a21b" class="outline-2">
<h2 id="type-hinting"><a id="org190a21b"></a><span class="section-number-2">2</span> Type Hinting</h2>
<div class="outline-text-2" id="text-type-hinting">

<p>
Type hinting is the idea of adding annotations about data type for variables,
function arguments etc. These are usually parsed and checked before runtime and
usually are similar in spirit to something like automatic spell-checkers. Doing
this helps in marking inconsistencies in variables which flow around here and
there. I came to know about type hinting from JavaScript. There is
<a href="https://flowtype.org/">flow</a> which lets you add hints in plain JS without
much intrusion and strip them off using something like
<a href="https://flowtype.org/docs/running.html">babel</a> in the compilation step.
</p>

<p>
Here is a sample taken from flow's homepage.
</p>

<div class="org-src-container">
<pre class="src src-js"><span class="org-comment-delimiter">// </span><span class="org-comment">@flow</span>
<span class="org-keyword">function</span> <span class="org-function-name">bar</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-variable-name">x</span><span class="org-rainbow-delimiters-depth-1">)</span>: string <span class="org-rainbow-delimiters-depth-1">{</span>
  <span class="org-keyword">return</span> x.length;
<span class="org-rainbow-delimiters-depth-1">}</span>
bar<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">'Hello, world!'</span><span class="org-rainbow-delimiters-depth-1">)</span>;
</pre>
</div>

<p>
You drop hints when needed and running <code>flow</code> gives you the error it
detects
</p>

<pre class="example">
3:   return x.length;
            ^^^^^^^^ number. This type is incompatible with the expected return type of
2: function bar(x): string {
                    ^^^^^^ string
</pre>

<p>
Then there is TypeScript which behaves more like a superset of JS but
with the same idea. Your development process gets assisted by static
types and then the code gets converted to plain JS and runs <i>like a
duck</i>.
</p>
</div>
</div>

<div id="outline-container-orgda90558" class="outline-2">
<h2 id="mypy"><a id="orgda90558"></a><span class="section-number-2">3</span> mypy</h2>
<div class="outline-text-2" id="text-mypy">

<p>
Although not that popular, Python has in-language support for adding type hints
which can be checked by something like <a href="http://mypy-lang.org/">mypy</a>. What this means for our example is
that you could do something like the following:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">def</span> <span class="org-function-name">noot_noot</span><span class="org-rainbow-delimiters-depth-1">(</span>pingu: Pingu, n_noots: <span class="org-builtin">int</span><span class="org-rainbow-delimiters-depth-1">)</span>:
    <span class="org-keyword">pass</span>

noot_noot<span class="org-rainbow-delimiters-depth-1">(</span>Pingu<span class="org-rainbow-delimiters-depth-2">()</span>, <span class="org-highlight-numbers-number">1</span>.<span class="org-highlight-numbers-number">3</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
This time, running mypy gives the following:
</p>

<pre class="example">
Argument 2 to "noot_noot" has incompatible type "float"; expected "int"
</pre>

<p>
Running this code itself will not give any error if there is nothing in
<code>noot_noot</code> which relies on <code>n_noots</code> not being a float (for example
<code>range(n_noots)</code>). This is <i>just</i> handy for something as trivial as this. But gets
really useful when you have a lot of structured data going in and out of things.
The <a href="https://docs.python.org/3/library/typing.html#module-typing">typing</a> module provides many primitives to build tailored types. For example,
if my program works with geographical coordinates (a pair of numbers) of cities
(string), I could do something like the following:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">from</span> typing <span class="org-keyword">import</span> Dict, Tuple

<span class="org-variable-name">Coordinate</span> = Tuple<span class="org-rainbow-delimiters-depth-1">[</span><span class="org-builtin">float</span>, <span class="org-builtin">float</span><span class="org-rainbow-delimiters-depth-1">]</span>

<span class="org-keyword">def</span> <span class="org-function-name">minimum_trip_distance</span><span class="org-rainbow-delimiters-depth-1">(</span>cities: Dict<span class="org-rainbow-delimiters-depth-2">[</span><span class="org-builtin">str</span>, Coordinate<span class="org-rainbow-delimiters-depth-2">]</span><span class="org-rainbow-delimiters-depth-1">)</span> -&gt; <span class="org-builtin">float</span>:
    <span class="org-keyword">pass</span>
</pre>
</div>

<p>
Notice the nice name of the type which helps in identifying the associated
object. We know whenever there is <code>Coordinate</code> that its going to be pair of
floats and not more. mypy's support for types can be seen in its
<a href="http://mypy.readthedocs.io/en/latest/kinds_of_types.html">doc</a>.
</p>

<p>
Here are a few reasons other than the already helpful type checking to use these
hints:
</p>

<ul class="org-ul">
<li>Its not really much to write and actually saves keystrokes as compared to
writing unnecessary and passive documentation strings.</li>
<li>It avoids runtime overheads as compared to defining a logical type using a
dummy class.</li>
</ul>

<p>
There are concerns about the readability of code as such when using hints as it
goes against python's philosophy. I feel like readability should not be judged
by how it looks to a non-programmer but to a python programmer. Its easier for
me to read that a function takes coordinates (which is known to be a pair of
numbers since I decided to read the code dealing with geography) rather than an
argument described solely by its name and / or docstring.
</p>
</div>
</div>

<div id="outline-container-org7371096" class="outline-2">
<h2 id="keeping-it-optional"><a id="org7371096"></a><span class="section-number-2">4</span> Keeping it Optional</h2>
<div class="outline-text-2" id="text-keeping-it-optional">

<p>
Typing is something that feels like it comes attached with performance benefits.
But using mypy for around a month now has convinced me that just the
documentation part is reason enough to use it here and there. It helps keep
track of tiny things like whether I am passing <code>str</code> or a <code>stream</code> when a
function works on a file. This itself has reduced the load on variable naming
for me a lot. Also, if you are not writing a hackish script, it does help to put
barriers at places to frame the program.
</p>

<p>
Most importantly, it really is non-intrusive and purely optional. You could use
hints wherever needed and skip where is it unnecessary and verbose (though I am
not sure if this is a recommended practice).
</p>
</div>
</div>

<div id="outline-container-org342afb7" class="outline-2">
<h2 id="final-thoughts"><a id="org342afb7"></a><span class="section-number-2">5</span> Final thoughts</h2>
<div class="outline-text-2" id="text-final-thoughts">

<p>
Static type checking in python is not <i>that</i> popular as compared to JS. But JS
community is particularly <a href="https://hackernoon.com/how-it-feels-to-learn-javascript-in-2016-d3a717dd577f">well known</a> to quickly get hands on new technologies.
The python community is somewhat different. The users have different
expectations from the language and the language has molded itself to be easy for
the users. To elaborate on this: you won't see <a href="https://docs.python.org/3/whatsnew/3.6.html#whatsnew36-pep498">f-strings</a> getting hugely popular
right away because:
</p>

<ul class="org-ul">
<li>the users don't care about it if the older ways are working (<code>format()</code> or
similar in this case)</li>
<li>packages / libraries supporting <a href="https://babeljs.io/">babel</a>-ish ideas are not that common to find in
python. Even if you are <i>living on the edge</i> kind of person, you can't just go
on your way that easily. (Though I would blame the v2-v3 divide for this)</li>
</ul>

<p>
Other than that, support for 3rd party modules is not that extensive as of now.
There is <a href="https://github.com/python/typeshed/">typeshed</a> but doesn't compare to something like <a href="https://github.com/DefinitelyTyped/DefinitelyTyped">DefinitelyTyped</a>. But
this really is a reflection of how popular type hinting is. If not many are
going to use it, there will always be lesser stubs in there.
</p>

<p>
Of course your IDE / editor needs to support on-the-fly type checking to
actually be helpful. Emacs has <a href="http://www.flycheck.org/en/latest/">flycheck</a> which has an <a href="https://github.com/lbolla/emacs-flycheck-mypy">extension</a> for adding mypy
as a checker. PyCharm also <a href="https://www.jetbrains.com/help/pycharm/2016.3/type-hinting-in-pycharm.html">supports</a> it.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<footer id='footer'></footer>
</div>
</body>
</html>
